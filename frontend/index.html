<html>
  <body style="background-color: #000">
    <h1 style="color: #fff">Hello from Express!</h1>
    <p style="color: #fff" id="serverMessage"></p>
    <p style="color: #fff" id="greeting">Hello</p>
    <button onclick="displayMessage()">display message</button>
    <button onclick="greets()">display time</button>
  </body>
</html>

<script>
i = 0;

async function displayMessage(){
  try {
    const res = await fetch("/api/test");
    const data = await res.json();
    i++;
    document.getElementById("serverMessage").textContent = data.message + i;
  } catch (error) {
    console.log("display failed", error);
  }

}

async function greets(){
  try {
    const res = await fetch("/api/test");
    const data = await res.json();
    document.getElementById("greeting").textContent = data.time;
  } catch (error) {
    console.log("fail to get time", error);
  }

}
</script>